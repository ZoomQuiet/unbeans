# 功能列表整理 #

## 要素 ##

  1. 条目
  1. 用户
  1. 评论
  1. 豆列
  1. 小组


## 功能 ##

### 条目添加 ###

isbn及其它编号校验

### 豆列建立、显示和删除 ###

  1. 用户填写“豆列名称”和“介绍”，创建豆列
  1. 添加豆列中的项目，在各条目主页上完成：该条目自动添在所选中的豆列最末尾
  1. 可以对豆列中的条目添加短注
  1. 可以自定义条目在豆列中的位置
  1. 豆列除单独显示外，还在条目主页显示，条目主页显示所有收入该条目的豆列
  1. 豆列可以由创建者删除

### 投票机制（包含：后台的用户信用度积分系统） ###

  1. 条目基本资讯显示（用到后台的用户信用度积分系统）
  1. 评论显示及排序
  1. 豆列有用度显示
  1. 条目好评度显示（此条也是推荐机制的根本）

### 收藏（评星、短注）和Tag ###

  1. 对象：条目、用户、评论、豆列、小组五要素
  1. 动作：针对每个对象用户可以做下述动作，并可以修改
    1. 条目-被用户-想、正在、做过（即收藏）；在收藏中删除；评星；短注；加Tag
    1. 条目-被小组-收藏；加短注；在收藏中删除（小组管理员才有权限）
    1. 用户-加为友邻（即收藏）；在收藏中删除；加Tag
    1. 评论-收藏；在收藏中删除；加Tag（有用/没用属于投票机制中实现）
    1. 豆列-收藏；在收藏中删除；加Tag（有用/没用属于投票机制中实现）
    1. 小组-加入（即收藏）；退出；小组本身的Tag属性（由管理员设定）
  1. Tag
    1. 对对象可以加Tag，每个用户对某一类对象所加Tag可以有限定（如Tag字数的限制；Tag格式的限制<如不能出现空格>）
    1. Tag浏览，可以按字母顺序或使用次数排序显示，在限定范围内（如：所有条目的Tag范围内、我收藏的豆列的Tag范围内、同城中某区域内二手转让的条目的Tag范围内）
    1. Tag搜索，在限定范围内的搜索
    1. Tag批量修改

### 显示 ###

  1. 每个用户/小组处归集自己做过动作的所有对象
  1. 每个对象处归集对自身做过动作的所有用户/小组

### 推荐机制 ###

用户可以在推荐列表中删除被推荐的对象，此对象以后不会出现，但是不对推荐的统计基础有影响

  1. 豆瓣认为用户会喜欢（针对每个用户推荐条目）
  1. 推荐友邻（针对每个用户推荐用户）
  1. 喜欢这个条目的也喜欢（针对条目推荐条目）
  1. 喜欢这个小组的也喜欢去（针对小组推荐小组）

### 购物车和售书网站信息抓取 ###

  1. 售书网站信息抓取
    1. 建站初始条目信息
    1. 售书网站新增条目信息抓取
    1. 售书网站售价抓取
  1. 购物车/收藏夹-类似于当当的收藏夹，但显示列表时汇总所有售书网站的当时价格信息在一行内，直接链接分成网页

### 二手转让 ###
  1. 与条目相关（在条目页面建立和显示）
  1. 显示在出让者所在地（同城）的页面
  1. 与站内短信系统相联系，用户针对二手转让的沟通通过站内短信系统完成

### 站内短信系统 ###

有黑名单功能

### 友邻 ###

  1. 跟踪友邻的最近动作（收藏条目、评论、豆列）
  1. 友邻的Tag管理和自定义排序

### 搜索 ###

  1. 条目搜索：搜索结果按人气高低排序和按匹配程度排序
    1. 综合搜索（页眉处）：书影乐混合搜索，搜索框内用户输入的内容作为“标题”和“作者/译者/导演//主演/表演者”的关键字搜索
    1. 分类多条件搜索：在书/影/乐每一类中进行，可以复选限定项（如书籍的：标题 作者 译者 出版社）
  1. 用户搜索：可分别以“名号”（用户显示名/昵称）、固定链接（用户username）、用户注册邮箱为关键词
    1. 全站用户搜索
    1. 特定小组内用户搜索
    1. 条目用户相互间的限制性搜索：
      1. 在特定用户收藏的条目中搜索某条目：“标题”和“作者/译者/导演/主演/表演者” 为关键词
      1. 收藏特定条目的用户提供全部用户在一张列表上，没有用户头像，以便使用Ctrl+F搜索某用户对此特定收藏条目的评价
    1. 豆列搜索：豆列名称和豆列介绍为关键词
    1. 小组搜索：小组名称和小组Tag为关键词
    1. 小组话题搜索
      1. 所有小组的话题
      1. 特定小组内话题
      1. 某特定用户发起的所有话题和参与的所有话题
    1. Tag搜索：某类对象聚集处就可以在此范围内搜索Tag

### 类论坛管理 ###

所有删帖会通过豆邮发给被删帖者，删帖者需要注明理由，主帖的删除必须以所有回帖都删除为前提。

  1. 讨论区：每个条目下可以发帖回帖，帖主可以删除回复
  1. 评论：可以对每篇评论回复，评论人（帖主）可以删除回复
  1. 豆列：可以对每个豆列回复，豆列创建人（帖主）可以删除回复
  1. 小组
    1. 小组管理
      1. 我所在小组的最近话题
      1. 我发起的话题
      1. 我回应的话题
      1. 所有小组的最新话题
      1. 我参加的小组，可自定义小组tag或小组分类
      1. 浏览所有小组
      1. 新建一个小组
    1. 小组搜索和所有小组话题搜索
    1. 特定小组主页和话题页面
      1. 发帖
      1. 看帖：最近小组讨论、我在本组发起的话题、我在本组回应的话题
      1. 回帖
      1. 删帖：分权限，删帖会通过豆邮发给被删帖者，删帖者需要注明理由，主帖的删除必须以所有回帖都删除为前提
    1. 组内话题搜索
    1. 组内成员搜索和普通成员浏览组员
    1. 管理员管理组员（封人、踢人、解封、升降管理员）
    1. 小组收藏：可按书影乐分类查看，有Tag云
    1. 设定：小组图标、小组名称、小组介绍、小组Tag、本组永久链接（组长可设定，一次设定后不可修改）、小组状态（公开/非公开）
    1. 退出
    1. 转让：组长转让给某个管理员
    1. 解散：组长进行，前提：删除本组所有帖子，踢走所有小组成员
    1. 管理权限
      1. 组员三类：组长（只有1人，默认为建组人，对小组负全责）、管理员、成员
      1. 针对以下项目区分管理权限：设定小组图标、介绍、Tag；删帖（主帖和回帖）、改帖；升降管理员；踢人、封人、解封；小组收藏；设定本组永久链接；设定小组公开状态；转让小组；解散小组。

### 同城 ###

提取和区域有关的信息，包括

  1. 城市列表，树状结构，可以我搬到这个城市了
  1. 这个城市的用户最喜欢读/最喜欢看/最喜欢听
  1. 这个城市的用户最喜欢去的小组
  1. 这个城市的新用户
  1. 这个城市的二手转让
  1. 每个上级区域对下属城市整盘考虑，做出统计（所有注册在江苏省内城市的用户都是江苏省的用户，那么在江苏省的页面，就把所有注册在南京、苏州、无锡……等的用户放在一起考虑，做出上面这些项目。）

### 其他 ###

  1. 成员个人设置，其中所在地在“同城”里选择
  1. 按时间/随即/特定公式显示对象（如：15分钟名组、豆瓣知道刚刚发生、随机评论、新加入小组的成员）
  1. 豆瓣秀：单个条目显示的html和UBB代码；某用户动作汇总显示的html和flash代码
  1. 用户数据导入（从豆瓣，收藏、评论、豆列）和导出到用户本地硬盘备份
  1. Feeds系统
  1. 注册/邀请制度
  1. 未登录时页面：无用户管理终端页面，反映Bug的论坛也不可见



## 性能 ##

  1. 用户总数100,000 （待定）

  1. 页面响应时间<1秒 （待定）